TRANSITLK SOFTWARE INSTALLATION GUIDE
=====================================
This guide details the steps required to set up, configure, and run the TransitLK application locally.

PREREQUISITES
-------------
Before you begin, ensure you have the following installed on your system:
1. Node.js (Version 18.0.0 or later recommended)
   - Download: https://nodejs.org/
2. npm (Node Package Manager) - typically installed with Node.js.
3. MongoDB Database
   - You can use a local MongoDB instance or a cloud provider like MongoDB Atlas.
   - Connection string will be required.
4. Git (to clone the repository)

---

1. CLONE THE REPOSITORY
-----------------------
Open your terminal and run the following command to clone the project:

   git clone <repository_url>
   cd transitlk

---

2. INSTALL DEPENDENCIES
-----------------------
Install the required project dependencies using npm:

   npm install

This command will read `package.json` and install all necessary packages, including Next.js, Prisma, and others.

---

3. ENVIRONMENT CONFIGURATION
----------------------------
The application requires several environment variables to function correctly (Database, Authentication, Payments, Maps, etc.).

1. Create a new file named `.env` in the root directory of the project.
2. Copy the following template into your `.env` file and fill in your specific keys:

   # --- Database ---
   # Connection string for your MongoDB database
   DATABASE_URL="mongodb+srv://<username>:<password>@cluster.mongodb.net/transitLK?retryWrites=true&w=majority"

   # --- NextAuth Configuration ---
   # The base URL of your application (use http://localhost:3000 for local dev)
   NEXTAUTH_URL="http://localhost:3000"
   # Generate a random string for security (e.g., using `openssl rand -base64 32`)
   NEXTAUTH_SECRET="your-super-secret-key"

   # --- OAuth Providers (Google) ---
   # Obtain these from Google Cloud Console (Credentials > OAuth 2.0 Client IDs)
   GOOGLE_CLIENT_ID="your-google-client-id"
   GOOGLE_CLIENT_SECRET="your-google-client-secret"

   # --- Stripe Payments ---
   # Obtain these from your Stripe Dashboard
   NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."
   STRIPE_SECRET_KEY="sk_test_..."
   NEXT_PUBLIC_APP_URL="http://localhost:3000"
   # STRIPE_WEBHOOK_SECRET="whsec_..." (Optional for webhook verification)

   # --- Mapbox (for Maps & Tracking) ---
   # Sign up at Mapbox and create a public access token
   NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN="pk.eyJ..."

   # --- Email Service (Nodemailer) ---
   # SMTP settings for sending emails
   EMAIL_USER="your-email@gmail.com"
   EMAIL_PASSWORD="your-app-specific-password"
   
   # --- AI Features (Google Gemini) ---
   # Get API key from Google AI Studio
   GEMINI_API_KEY="AIza..."

   # --- Twilio (SMS Service) ---
   # Required for sending SMS notifications
   TWILIO_ACCOUNT_SID="AC..."
   TWILIO_AUTH_TOKEN="your-auth-token"
   TWILIO_PHONE_NUMBER="+1234567890"

---

4. DATABASE SETUP
-----------------
The project uses Prisma as an ORM. You need to generate the Prisma client to interact with your database.

1. Generate Prisma Client:
   npm run postinstall
   # OR explicitly:
   npx prisma generate

2. Push Schema to Database:
   # This syncs your Prisma schema with your MongoDB database
   npx prisma db push

---

5. RUNNING THE APPLICATION
--------------------------

Development Mode:
To start the application in development mode with hot-reloading:

   npm run dev

Open http://localhost:3000 in your browser to view the application.

Production Build:
To build and run the optimized production version:

1. Build the application:
   npm run build

2. Start the production server:
   npm start

---

6. TROUBLESHOOTING
------------------
- "Prisma Client not initialized": Run `npx prisma generate` again.
- "Connection Refused": Check your MongoDB connection string in `.env`.
- "Invalid API Key": Ensure all keys in `.env` are copied correctly without extra spaces.

=====================================
End of Installation Guide
